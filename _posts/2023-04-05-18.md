---
title: "[React] íŠ¹ì • ì˜ì—­ ì™¸ í´ë¦­ ê°ì§€"
date: 2023-04-05 00:55:00 +0900
categories: [Libraries, React]
tags: [react, ë¦¬ì•¡íŠ¸, ref, useref]
image:
    path: /assets/img/2023-04-05-18/2023-04-05-18-1.webp
    alt: https://blog.alexdevero.com/reacts-useref-hook/
---

### ì…€ë ‰íŠ¸ ë°•ìŠ¤ ì™¸ ì˜ì—­ í´ë¦­ ì‹œ í¬ì»¤ìŠ¤ í•´ì œ

ê°œì¸ í¬í´ ì‘ì—… ì¤‘, ì…€ë ‰íŠ¸ ë°•ìŠ¤ ì™¸ ì˜ì—­ í´ë¦­ ì‹œ ì…€ë ‰íŠ¸ ë°•ìŠ¤ í¬ì»¤ìŠ¤ê°€ í•´ì œë˜ëŠ” ê¸°ëŠ¥ì„ êµ¬í˜„í•  í•„ìš”ê°€ ìˆì—ˆìŠµë‹ˆë‹¤.

![ê°œì¸ í”„ë¡œì íŠ¸](/assets/img/2023-04-05-18/2023-04-05-18-2.gif)

&nbsp;

### âŒ useEffectë§Œ ì‚¬ìš©í•˜ëŠ” ë°©ë²•

ì²˜ìŒ ì‹œë„í•œ ë°©ë²•ì€ `useEffect` ì•ˆì— `mouseup` ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ì‹ì´ì—ˆìŠµë‹ˆë‹¤. ì–´ëŠ ì •ë„ ê¸°ëŠ¥ì´ êµ¬í˜„ë˜ê¸´ í–ˆì§€ë§Œ, í´ë¦­ ì‹œ ë¦¬ì•¡íŠ¸ê°€ ì—¬ëŸ¬ ë²ˆ ë¦¬ë Œë”ë§ ë˜ì–´ ë‹¤ì‹œ í¬ì»¤ìŠ¤ ìƒíƒœë¡œ ëŒì•„ê°€ëŠ” ê²½ìš°ê°€ ìˆì—ˆê¸° ë•Œë¬¸ì—, ë‹¤ë¥¸ ë°©ë²•ì„ ì°¾ì•„ë³¼ í•„ìš”ê°€ ìˆì—ˆìŠµë‹ˆë‹¤.

&nbsp;

### ğŸ™†â€â™‚ï¸useRefë¥¼ ê°™ì´ ì‚¬ìš©í•˜ëŠ” ë°©ë²•

ê·¸ ë‹¤ìŒ ì‹œë„í•œ ë°©ë²•ì€ `useRef`ë¥¼ ê°™ì´ ì‚¬ìš©í•˜ëŠ” ë°©ì‹ì…ë‹ˆë‹¤. ì´ ë°©ì‹ì€ íŠ¹ì • ì˜ì—­ì„ ê°ì§€í•˜ëŠ” `ref`ë¥¼ ì›í•˜ëŠ” ìš”ì†Œì— ì§€ì •í•´ì„œ, í•´ë‹¹ ì˜ì—­ ì´ì™¸ì˜ ì˜ì—­ì„ í´ë¦­í–ˆì„ ë•Œ ì´ë²¤íŠ¸ë¥¼ ë°œìƒì‹œí‚¤ëŠ” ë°©ì‹ì…ë‹ˆë‹¤.

```jsx
import { useRef, useEffect } from 'React';

function App() {
	// Ref ë””í´íŠ¸ê°’ nullë¡œ ì§€ì •
	const searchRef = useRef(null);
    
    useEffect(() => {
        // íŠ¹ì • ì˜ì—­ ì™¸ í´ë¦­ ì‹œ ë°œìƒí•˜ëŠ” ì´ë²¤íŠ¸
    	function handleFocus(e) {
        	if (searchRef.current && !searchRef.current.contains(e.target)) {
            	// input ì²´í¬ í•´ì œ
                document.getElementById('thisSelectBox').checked = false;
            }
        }
        
        // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆì— handleFocus í•¨ìˆ˜ ë“±ë¡
        document.addEventListener("mouseup", handleFocus);
        return () => { document.removeEventListener("mouseup", handleFocus); }
    }, [searchRef]);
    
    return (
        <div className='selectbox_wrap'>
            <input type='checkbox' id='thisInput'/>
            {/* Refë¥¼ ì§€ì •í•  ìš”ì†Œ */}
            <label ref={searchRef} htmlFor='thisInput' id='thisSelectBox'>í°íŠ¸ í˜•ì‹</label>
            <div className='thisOptions'>
                <span>ê³ ë”•</span>
                <span>ëª…ì¡°</span>
                <span>ì†ê¸€ì”¨</span>
                <span>ì¥ì‹ì²´</span>
            </div>
        </div>
    );
}

export default App;
```

&nbsp;

êµ¬í˜„í•œ ê²°ê³¼ë¬¼ì…ë‹ˆë‹¤. `mouseup` ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆëŠ” ë§ˆìš°ìŠ¤ë¥¼ í´ë¦­í•œ í›„ ë§ˆìš°ìŠ¤ë¥¼ ë•ŒëŠ” ì‹œì ì— ì´ë²¤íŠ¸ë¥¼ ë°œìƒì‹œí‚µë‹ˆë‹¤. ë§ˆìš°ìŠ¤ë¥¼ í´ë¦­í•˜ëŠ” ìˆœê°„ ì´ë²¤íŠ¸ë¥¼ ë°œìƒì‹œí‚¤ê³  ì‹¶ìœ¼ë©´ `mouseup` => `mousedown`ìœ¼ë¡œ ë°”ê¿”ì£¼ë©´ ë©ë‹ˆë‹¤.

![êµ¬í˜„ëœ ê²°ê³¼ë¬¼](/assets/img/2023-04-05-18/2023-04-05-18-3.gif)